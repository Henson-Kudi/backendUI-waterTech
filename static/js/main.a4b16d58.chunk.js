(this["webpackJsonpwater-tech-pools"]=this["webpackJsonpwater-tech-pools"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(13),r=n.n(c),a=n(24),i=n.n(a),s=(n(30),n(4)),o=n(20),u=n(6),l=n.n(u),d=n(11),j=n(15),p=n(25),b=(n(39),p.a.initializeApp({projectId:"water-tech-files-storage",appId:"1:904994163595:web:502709034d2777cdb93d8e",storageBucket:"water-tech-files-storage.appspot.com",locationId:"us-central",apiKey:"AIzaSyC_hIfGIV63FdKqRRbJXZyGMeYnJquIuQ0",authDomain:"water-tech-files-storage.firebaseapp.com",messagingSenderId:"904994163595"})),f=(n(37),n.p+"static/media/logo.27956032.png"),h=n(5),m=b.firestore();var O=function(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(j.a)(a,2),u=i[0],p=i[1],O=Object(c.useState)(null),v=Object(j.a)(O,2),x=v[0],g=v[1],w=Object(c.useState)(!1),N=Object(j.a)(w,2),k=N[0],y=N[1],C=Object(c.useRef)(null),S=(new Date).valueOf().toString(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],c=b.storage().ref(),r=c.child(n.name),e.next=5,r.put(n);case 5:return e.next=7,r.getDownloadURL();case 7:a=e.sent,g(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("projects").get();case 2:t=e.sent,p(t.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},n,c))}))};function P(e){var t=C.current;t&&!t.contains(e.target)&&y(!1)}Object(c.useEffect)((function(){return document.addEventListener("mousedown",P),function(){document.removeEventListener("mousedown",P)}}),[]);var A=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.title||alert("Please add a project title"),n.title&&(n.description||alert("Please Add Project Description")),!n.title){e.next=7;break}if(!n.description){e.next=7;break}return t={id:S,title:n.title,description:n.description,url:x},e.next=7,m.collection("projects").doc(t.id).set(t).then(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("projects").get();case 2:n=e.sent,p(n.docs.map((function(e){return e.data()}))),r({}),g(null),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("projects").doc(t.id).delete().then(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("projects").get();case 2:n=e.sent,p(n.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{className:"headerSection",children:[Object(h.jsx)("div",{className:"headImageContainer",children:Object(h.jsx)("img",{src:f,alt:"Water Tech Logo"})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"btn",onClick:function(){y(!0)},children:"New Project"})})]}),k&&Object(h.jsxs)("div",{className:"newProjectForm",ref:C,children:[Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"text",name:"title",id:"title",value:n.title,onChange:E,placeholder:"Enter project title"})}),Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{name:"description",id:"description",value:n.description,onChange:E,placeholder:"Enter project description"})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"file",name:"project",onChange:I})}),Object(h.jsx)("div",{className:"image-container",children:x?Object(h.jsx)("img",{src:x,alt:n.title}):Object(h.jsx)("button",{className:"btnSubmitt",children:Object(h.jsx)("span",{})})}),Object(h.jsxs)("div",{className:"submitOptions",children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"btnCancel btn",onClick:function(){y(!1)},children:"Cancel"})}),Object(h.jsx)("div",{children:x&&Object(h.jsx)("button",{className:"btnSubmit btn",onClick:A,children:" Add Project "})})]})]})]}),Object(h.jsx)("div",{className:"projects",children:null===u||void 0===u?void 0:u.sort((function(e,t){return t.id-e.id})).map((function(e){return Object(h.jsxs)("div",{className:"elementGrid",children:[Object(h.jsx)("div",{className:"imageContainer",children:Object(h.jsx)("img",{src:e.url,alt:""})}),Object(h.jsxs)("p",{className:"imageTitle",children:[e.title,Object(h.jsx)("i",{className:"fas fa-trash",onClick:function(){D(e)}})]})]})}))})]})};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.a4b16d58.chunk.js.map